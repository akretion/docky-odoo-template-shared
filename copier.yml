# Configure jinja2 defaults to make syntax highlighters happy
_templates_suffix: .jinja
_subdirectory: src
_envops:
  block_end_string: "%}"
  block_start_string: "{%"
  comment_end_string: "#}"
  comment_start_string: "{#"
  keep_trailing_newline: true
  variable_end_string: "}}"
  variable_start_string: "{{"

# keep the default name
# in order to let the user run `copier update -A`
_answers_file: .copier-answers.yml

project_name:
  type: str
  help: Project Name

branch_name:
  type: str
  choices:
     - "17.0"
     - "16.0"
     - "15.0"
     - "14.0"
  default: "16.0"
  help: Odoo version

odoo_version:
  # odoo_version is more readable
  # branch_name is required by huddle, more generic
  type: str
  default: "{{branch_name}}"
  when: false

# Remove ?
use_secret:
  type: bool
  help: generate docker-compose dedicate file for secret

org_name:
  type: str
  default: Akretion
  help:
    Tell me the Organization name. It's supposed to be human-readable. It will be used
    in the author key of the __manifest__ files.
  # do not ask the question
  # but allow to change it manually
  when: false

next_templates:
  help: "Next templates to run. template path args"
  # syntax:
  #   one template per line
  #   src_path dest_path
  # data= is the answer of the curent template
  # really fragile structure
  # keep the empty line between each
  # lines
  # this syntax allows variable extrapolation
  # because the result is a string
  # tmpl_path if local is relative to dstDir
  default: >
    https://github.com/akretion/docky-odoo-template-personnal.git .

    https://github.com/OCA/oca-addons-repo-template.git /odoo/local-src
  when: false


_skip_if_exists:
  - frozen.yaml
  - README.md # TODO how to manage readme ?
  - odoo/local-src/*
  - odoo/spec.yaml
  - odoo/requirements.txt
  - odoo/setup.py
  - clear-ci-db-token # To be removed
  - clear-ci.secrets.docker-compose.yml
  - clear-prod.secrets.docker-compose.yml
  - secrets.docker-compose.yml
  - .copier-answers_personnal.yml

